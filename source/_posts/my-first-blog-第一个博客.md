---
title: my first blog(第一个博客)
date: 2018-01-31 18:47:43
tags:
---

## CCF数据挖掘比赛总结-企业经营退出风险预测【排名9/569 (Top 1.58%)】

作者：林锦进

代码已上传到github: https://github.com/linjinjin123/2017-CCF-BDCI-Enterprise

## 前言
打完比赛后的一段时间都很忙，一些拖着这个比赛总结没有写，这是我于2017年10月放完国庆回学校后参加的第一个数据挖掘比赛，最后团队复赛A榜排名第3，B榜排名9/569 (Top 1.58%)
<!-- more -->
![fist-1.png-21.7kB][1]

这个总结主要是记录一下在比赛过程中踩到的一些坑以及学习到的有用的地方，因为这个比赛的特征构造还是比较套路，所以有很多代码可以在以后参加类似比赛的时候重用。

一开始接触这个比赛其实是实验室的师兄介绍的，这是CCF 大数据与计算智能大赛（BDCI）， 导师让我们小组参加一下这个CCF的比赛，我们实验室总共参加了让AI当法官，蚂蚁金服的用户商铺定位，企业风险预测，360机器写作识别，我这几个比赛在初赛的时候都尝试接触了一下，我们实验室采用的是初赛各自solo，可以交流但是不要直接互换特征（为了避免各自相似性太大，有差异性在复赛的时候做融合才会更加有优势），然后复赛开始前按照排行榜成绩进行组队，每个人可以参加两个比赛，最后因为我自己在几个比赛尝试后企业的成绩是最好的，因此我参加了企业和蚂蚁的商铺定位两个，不过后来主要的时间都放在企业赛上了。

## 赛题回顾
先做一下赛题回顾：这次比赛是比较传统的数据挖掘比赛，也就是给你一批企业数据，然后我们通过构造特征，训练一个模型来预测当前企业是否在未来会有倒闭的风险，比赛所采用的评分标准是auc+f1，从图中可以看到，6945.32178中，6945是auc分数，32178是f1的分数。

## 整体架构
初赛一开始师兄们给出了两份baseline，由于我们参加这个比赛的有很多研一的小鲜肉，大家都还不懂套路，因此基于baseline然后继续提高有助于我们快速上道。我参考师兄的代码后发现真的挺有套路了，这里简单看一下

```python
def get_entbase_feature():
	...
    return entbase_feat
def get_alter_feature():
	...
    return alter_feat
    
entbase_feat = get_entbase_feature()
alter_feat = get_alter_feature()
...
train_feat = pd.merge(train[["EID"]], entbase_feat, on="EID", how="left")
train_feat = pd.merge(train_feat, alter_feat, on="EID", how="left")

```
这是做特征工程的整体框架，也就是对于不同的数据表格，我们单独作为一个函数获取特征，如果需要跨不同表格进行交叉特征的话，可以在后面进行处理，这样做的好处是让我们可以在代码中就区别不同特征的来源，方便我们对特征进行增添删减。


  [1]: http://static.zybuluo.com/Lymo/dzscbg5ogqudc9y5u2s4frv6/fist-1.png